<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <link rel="stylesheet" href="/css/dashboard.css">
    <link rel="stylesheet" href= "/css/nav.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css">
</head>
<body>

    <%- include('../partials/nav')  %> 
    <div id="main">
        <div class="action">
            <a href="/users/create">Create User</a>
        </div>
        <table>
            <thead>
                <tr>
                    <th style="width: 5%;">User_Id</th>
                    <th style="width: 20%">Username</th>
                    <th style="width: 35%;">Email</th>
                    <th style="width: 20%;">Password</th>
                    <th style="width: 10%;">Update</th>
                    <th style="width: 10%;">Delete</th>
                </tr>
            </thead>
            <tbody>
                <% let users = data.filter((e) => e.role === 'user') %> 
                <% for( let i = 0; i < users.length; i++ ) { %>
                    <tr>
                        <td style="width: 5%;"><%= users[i].userId %></td>
                        <td style="width: 20%"><%= users[i].username %></td>
                        <td style="width: 35%;"><%= users[i].email %></td>
                        <td style="width: 20%;"><%= users[i].password %></td>
                        <td style="width: 10%;"><a href="/users/update/<%= users[i].userId %>">Update</a></td>
                        <td style="width: 10%;"><a href="/users/delete/<%= users[i].userId %>">Delete</a></td>
                    </tr>
                <% } %>
            </tbody>
        </table>
    </div>
    
</body>
</html>